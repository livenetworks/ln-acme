<!DOCTYPE html>
<html lang="mk">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Toggle — ln-acme</title>
	<link rel="stylesheet" href="../dist/ln-acme.css">
	<link rel="stylesheet" href="demo.css">
	<script src="../dist/ln-acme.iife.js" defer></script>
</head>
<body>
	<!-- Toast container -->
	<div data-ln-toast></div>

	<div class="app-wrapper">
		<!-- Header -->
		<div class="header">
			<div class="header-left">
				<button class="menu-toggle" data-ln-toggle-for="demo-sidebar">
					<span class="ln-icon-menu"></span>
				</button>
				<h1>Toggle</h1>
			</div>
			<div class="header-right">
				<div class="header-actions">
					<button class="btn btn--secondary" onclick="window.lnToast.enqueue({type:'info', title:'Инфо', message:'Toggle компонента за отвор/затворање.'})">
						Test Toast
					</button>
				</div>
			</div>
		</div>

		<!-- App Body -->
		<div class="app-body">
		<!-- Sidebar -->
		<aside class="sidebar open" id="demo-sidebar" data-ln-toggle="open">
			<div class="sidebar-header">
				<button data-ln-toggle-for="demo-sidebar" data-ln-toggle-action="close" style="position: absolute; top: 0.5rem; right: 0.5rem; width: 2rem; height: 2rem; padding: 0; border: none; background: transparent; cursor: pointer; font-size: 1.5rem; color: var(--color-text);">&times;</button>
			<img class="logo" src="ln-acme-logo.png" alt="ln-acme" style="width: 2rem; height: 2rem; border-radius: var(--radius-sm);">
				<span class="app-name">acme-gui</span>
			</div>

			<div class="sidebar-content">
				<nav class="nav" data-ln-nav="active">
					<ul>
						<li><a href="index.html"><span class="nav-icon ln-icon-home"></span><span class="nav-label">Dashboard</span></a></li>
					</ul>

					<div class="nav-section">CSS компоненти</div>
					<ul>
						<li><a href="typography.html"><span class="nav-label">Typography</span></a></li>
						<li><a href="cards.html"><span class="nav-label">Cards</span></a></li>
						<li><a href="tables.html"><span class="nav-label">Tables</span></a></li>
						<li><a href="forms.html"><span class="nav-label">Forms &amp; Buttons</span></a></li>
						<li><a href="layout.html"><span class="nav-label">Layout &amp; Grid</span></a></li>
						<li><a href="sections.html"><span class="nav-label">Sections</span></a></li>
						<li><a href="icons.html"><span class="nav-label">Icons</span></a></li>
						<li><a href="utilities.html"><span class="nav-label">Utilities</span></a></li>
					</ul>

					<div class="nav-section">JS компоненти</div>
					<ul>
						<li><a href="accordion.html"><span class="nav-label">Accordion</span></a></li>
						<li><a href="ajax.html"><span class="nav-label">AJAX</span></a></li>
						<li><a href="external-links.html"><span class="nav-label">External Links</span></a></li>
						<li><a href="nav.html"><span class="nav-label">Nav</span></a></li>
						<li><a href="progress.html"><span class="nav-label">Progress</span></a></li>
						<li><a href="select.html"><span class="nav-label">Select</span></a></li>
						<li><a href="toggle.html"><span class="nav-label">Toggle</span></a></li>
						<li><a href="modal.html"><span class="nav-label">Modal</span></a></li>
						<li><a href="toast.html"><span class="nav-label">Toast</span></a></li>
						<li><a href="tabs.html"><span class="nav-label">Tabs</span></a></li>
						<li><a href="upload.html"><span class="nav-label">Upload</span></a></li>
					</ul>
				</nav>
			</div>

			<div class="sidebar-footer">
				<small class="text-muted">acme-gui v1.0.0</small>
			</div>
		</aside>

		<!-- Main Panel -->
		<div class="main-panel">

			<!-- Content -->
			<div class="content">
				<div class="stack-lg">
					<h1>Toggle</h1>
					<p>Генеричка toggle компонента — додава/тргни <code>.open</code> класа на елемент. Работи за sidebar, collapsible, dropdown — било што.</p>

					<!-- Основи -->
					<section class="section-card">
						<header><h3>Основи</h3></header>
						<main>
							<table>
								<thead><tr><th>Атрибут</th><th>На елемент</th><th>Опис</th></tr></thead>
								<tbody>
									<tr><td><code>data-ln-toggle</code></td><td>целен елемент</td><td>Креира инстанца, почнува затворен</td></tr>
									<tr><td><code>data-ln-toggle="open"</code></td><td>целен елемент</td><td>Почнува отворен (добива класа <code>.open</code>)</td></tr>
									<tr><td><code>data-ln-toggle-for="id"</code></td><td>копче</td><td>Реферира на целниот елемент по ID</td></tr>
									<tr><td><code>data-ln-toggle-action="open|close"</code></td><td>копче</td><td>Експлицитна акција (default: toggle)</td></tr>
								</tbody>
							</table>
						</main>
					</section>

					<!-- Instance API -->
					<section class="section-card">
						<header><h3>Instance API</h3></header>
						<main>
							<pre><code>var el = document.getElementById('my-element');

el.lnToggle.open();      // Отвори
el.lnToggle.close();     // Затвори
el.lnToggle.toggle();    // Toggle
el.lnToggle.isOpen;      // boolean (read-only)</code></pre>
						</main>
					</section>

					<!-- Events -->
					<section class="section-card">
						<header><h3>Events</h3></header>
						<main>
							<table>
								<thead><tr><th>Event</th><th>Bubbles</th><th>Detail</th></tr></thead>
								<tbody>
									<tr><td><code>ln-toggle:open</code></td><td>да</td><td><code>{ target: HTMLElement }</code></td></tr>
									<tr><td><code>ln-toggle:close</code></td><td>да</td><td><code>{ target: HTMLElement }</code></td></tr>
								</tbody>
							</table>
							<pre><code>document.addEventListener('ln-toggle:open', function (e) {
    console.log('Отворен:', e.detail.target.id);
});

document.addEventListener('ln-toggle:close', function (e) {
    console.log('Затворен:', e.detail.target.id);
});</code></pre>
						</main>
					</section>

					<!-- Пример: Sidebar -->
					<section class="section-card">
						<header><h3>Пример — Sidebar</h3></header>
						<main>
							<p style="margin-bottom: 1rem;"><strong>Клик на копче за отворање/затворање на sidebar</strong></p>
							<div style="display: flex; gap: 1rem; border: 1px solid var(--color-border); padding: 1rem; border-radius: var(--radius-md); background: var(--color-bg-secondary); min-height: 10rem;">
								<aside id="demo-sidebar-example" class="sidebar open" data-ln-toggle="open" style="width: 200px; border: 1px solid var(--color-border); padding: 1rem; background: white; border-radius: var(--radius-md);">
									<h4 style="margin-top: 0;">Sidebar</h4>
									<ul style="margin: 0; padding-left: 1rem;">
										<li><a href="#">Линк 1</a></li>
										<li><a href="#">Линк 2</a></li>
										<li><a href="#">Линк 3</a></li>
									</ul>
									<button data-ln-toggle-for="demo-sidebar-example" data-ln-toggle-action="close" style="position: absolute; top: 0.5rem; right: 0.5rem; width: 2rem; height: 2rem; padding: 0; border: none; background: transparent; cursor: pointer; font-size: 1.5rem;">&times;</button>
								</aside>
								<div>
									<button data-ln-toggle-for="demo-sidebar-example" class="btn">Тоглирај Sidebar</button>
									<p style="margin-top: 1rem; color: var(--color-text-muted); font-size: 0.85rem;">Sidebar добива класа <code>.open</code> кога е отворен.</p>
								</div>
							</div>
						</main>
					</section>

					<!-- Пример: Collapsible -->
					<section class="section-card">
						<header><h3>Пример — Collapsible сегмент</h3></header>
						<main>
							<div style="border: 1px solid var(--color-border); border-radius: var(--radius-md); overflow: hidden;">
								<div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--color-bg-secondary); border-bottom: 1px solid var(--color-border);">
									<strong>Напредни опции</strong>
									<button type="button" data-ln-toggle-for="collapse-example" class="btn btn--secondary" style="padding:0.25rem 0.5rem; font-size: 0.85rem;">▼</button>
								</div>
								<section id="collapse-example" data-ln-toggle style="padding: 1rem;">
									<p>Ова е зададена содржина кога је затворена.</p>
									<p>Клик на копчето за отворање/затворање.</p>
									<form class="stack-sm">
										<div style="display: flex; gap: 0.5rem;">
											<input type="checkbox"> <label>Опција 1</label>
										</div>
										<div style="display: flex; gap: 0.5rem;">
											<input type="checkbox"> <label>Опција 2</label>
										</div>
									</form>
								</section>
							</div>
						</main>
					</section>

					<!-- Пример: Dropdown -->
					<section class="section-card">
						<header><h3>Пример — Dropdown мени</h3></header>
						<main>
							<div style="position: relative; display: inline-block;">
								<button data-ln-toggle-for="dropdown-example" class="btn">Мени</button>
								<ul id="dropdown-example" data-ln-toggle style="position: absolute; top: 100%; left: 0; background: white; border: 1px solid var(--color-border); border-radius: var(--radius-md); list-style: none; margin: 0.5rem 0 0 0; padding: 0.5rem 0; min-width: 150px; display: none;">
									<li><a href="#" style="display: block; padding: 0.5rem 1rem; color: var(--color-text); text-decoration: none;">Edit</a></li>
									<li><a href="#" style="display: block; padding: 0.5rem 1rem; color: var(--color-text); text-decoration: none;">Delete</a></li>
									<li><a href="#" style="display: block; padding: 0.5rem 1rem; color: var(--color-text); text-decoration: none;">Архивирај</a></li>
								</ul>
							</div>
							<style>
								#dropdown-example.open { display: block; }
							</style>
						</main>
					</section>

					<!-- HTML структура ->
					<section class="section-card">
						<header><h3>HTML структура</h3></header>
						<main>
							<pre><code>&lt;!-- Елемент кој ќе се мени --&gt;
&lt;aside id="my-sidebar" data-ln-toggle&gt;
    Содржина
&lt;/aside&gt;

&lt;!-- Копче кое го контролива --&gt;
&lt;button data-ln-toggle-for="my-sidebar"&gt;
    Тоглирај
&lt;/button&gt;

&lt;!-- Почнува отворен --&gt;
&lt;main id="panel" data-ln-toggle="open"&gt;
    Отворена содржина
&lt;/main&gt;

&lt;!-- Експлицитна акција --&gt;
&lt;button data-ln-toggle-for="panel" 
        data-ln-toggle-action="close"&gt;
    Затвори
&lt;/button&gt;</code></pre>
						</main>
					</section>

					<!-- CSS за анимации -->
					<section class="section-card">
						<header><h3>CSS за анимации</h3></header>
						<main>
							<p>ln-toggle добива класа <code>.open</code>, ал останатите анимации/transitioni ги дефинираш во твој SCSS:</p>
							<pre><code>// Sidebar анимација
aside {
    @include transition;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    
    &.open {
        max-height: 100vh;
        opacity: 1;
    }
}

// Collapsible со max-height
main[data-ln-toggle] {
    @include transition(max-height);
    max-height: 0;
    overflow: hidden;
    
    &.open {
        max-height: 1000px;
    }
}</code></pre>
						</main>
					</section>

					<!-- Constructor -->
					<section class="section-card">
						<header><h3>Constructor</h3></header>
						<main>
							<pre><code>// Рачна иницијализација на нов DOM
window.lnToggle(document.body);

// Пример: По AJAX полнење на нов HTML
fetch('/partial').then(r => r.text()).then(html => {
    var container = document.getElementById('content');
    container.innerHTML = html;
    
    // Иницијализирај ново додаден HTML
    window.lnToggle(container);
});</code></pre>
						</main>
					</section>

					<!-- Практични примери -->
					<section class="section-card">
						<header><h3>Практични користења</h3></header>
						<main>
							<ul>
								<li><strong>Sidebar навигација</strong> — отворање/затворање на мобил</li>
								<li><strong>Collapsible FAQ/документација</strong> — Q&A панели</li>
								<li><strong>Dropdown менија</strong> — user menu, actions menu</li>
								<li><strong>Modal backdrop</strong> — преку ln-modal компонента</li>
								<li><strong>Tabs панели</strong> — преку ln-tabs компонента</li>
								<li><strong>Accordion</strong> — преку ln-accordion компонента</li>
							</ul>
						</main>
					</section>
				</div>
			</div>

			<!-- Footer -->
			<footer class="footer">
				<span>acme-gui &copy; 2026 LiveNetworks</span>
				<span class="text-muted">ln-acme v1.0.0</span>
			</footer>
		</div>
		</div><!-- /.app-body -->
	</div><!-- /.app-wrapper -->
</body>
</html>
