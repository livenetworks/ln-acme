(function(R){"use strict";(function(){const f="data-ln-ajax",d="lnAjax";if(window[d]!==void 0)return;function v(t){if(console.log(t),!t.hasAttribute(f)||t[d])return;t[d]=!0,console.log("constructor called with:",t);let e=b(t);console.log("Items found:",e),E(e.links),g(e.forms)}function E(t){t.forEach(function(e){if(e._lnAjaxAttached)return;const r=e.getAttribute("href");r&&r.includes("#")||(e._lnAjaxAttached=!0,e.addEventListener("click",function(i){if(i.ctrlKey||i.metaKey||i.button===1)return;i.preventDefault();const s=e.getAttribute("href");s&&h("GET",s,null,e)}))})}function g(t){t.forEach(function(e){e._lnAjaxAttached||(e._lnAjaxAttached=!0,e.addEventListener("submit",function(r){r.preventDefault();const i=e.method.toUpperCase(),s=e.action,o=new FormData(e);console.log("Form submitted:",i,s),e.querySelectorAll('button, input[type="submit"]').forEach(function(l){l.disabled=!0}),h(i,s,o,e,function(){e.querySelectorAll('button, input[type="submit"]').forEach(function(l){l.disabled=!1})})}))})}function h(t,e,r,i,s){console.log("Making AJAX request:",t,e),i.classList.add("ln-ajax--loading");let o=e;const l=document.querySelector('meta[name="csrf-token"]'),u=l?l.getAttribute("content"):null;r instanceof FormData&&u&&r.append("_token",u);const p={method:t,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}};if(u&&(p.headers["X-CSRF-TOKEN"]=u),t==="GET"&&r){const m=new URLSearchParams(r);o=e+(e.includes("?")?"&":"?")+m.toString()}else t!=="GET"&&r&&(p.body=r);fetch(o,p).then(m=>m.json()).then(m=>{if(m.title&&(document.title=m.title),m.content)for(let y in m.content){const L=document.getElementById(y);L&&(L.innerHTML=m.content[y])}if(i.tagName==="A"){let y=i.getAttribute("href");y&&window.history.pushState({ajax:!0},"",y)}else i.tagName==="FORM"&&i.method.toUpperCase()==="GET"&&window.history.pushState({ajax:!0},"",o);m.message&&window.lnToast&&window.lnToast.enqueue({type:m.message.type,title:m.message.title,message:m.message.body,data:m.message.data}),i.classList.remove("ln-ajax--loading"),s&&s()}).catch(m=>{console.error("AJAX error:",m),i.classList.remove("ln-ajax--loading"),s&&s()})}function b(t){let e={links:[],forms:[]};if(t.tagName==="A"&&t.getAttribute(f)!=="false")e.links.push(t);else if(t.tagName==="FORM"&&t.getAttribute(f)!=="false")e.forms.push(t);else{let r=t.querySelectorAll('a:not([data-ln-ajax="false"])')||[],i=t.querySelectorAll('form:not([data-ln-ajax="false"])')||[];e.links=Array.from(r),e.forms=Array.from(i)}return e}function a(){new MutationObserver(function(e){e.forEach(function(r){r.type=="childList"&&r.addedNodes.forEach(function(i){i.nodeType===1&&(v(i),i.hasAttribute&&!i.hasAttribute(f)&&i.querySelectorAll("["+f+"]").forEach(function(o){v(o)}))})})}).observe(document.body,{childList:!0,subtree:!0})}a(),window[d]=v;function n(){document.querySelectorAll("["+f+"]").forEach(function(e){v(e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n):n()})(),(function(){const f="data-ln-modal",d="lnModal";if(window[d]!==void 0)return;function v(n){const t=document.getElementById(n);if(!t){console.warn('Modal with ID "'+n+'" not found');return}t.classList.contains("ln-modal--open")?(t.classList.remove("ln-modal--open"),document.body.classList.remove("ln-modal-open")):(t.classList.add("ln-modal--open"),document.body.classList.add("ln-modal-open"))}function E(n){const t=document.getElementById(n);t&&(t.classList.remove("ln-modal--open"),document.body.classList.remove("ln-modal-open"))}function g(n){const t=n.querySelectorAll("[data-ln-modal-close]"),e=n.id;t.forEach(function(r){r.addEventListener("click",function(i){i.preventDefault(),E(e)})})}function h(n){n.forEach(function(t){t.addEventListener("click",function(e){if(e.ctrlKey||e.metaKey||e.button===1)return;e.preventDefault();const r=t.getAttribute(f);r&&v(r)})})}function b(){const n=document.querySelectorAll("["+f+"]");h(n),document.querySelectorAll("[id]").forEach(function(e){e.classList.contains("ln-modal")&&g(e)}),document.addEventListener("keydown",function(e){(e.key==="Escape"||e.keyCode===27)&&document.querySelectorAll(".ln-modal.ln-modal--open").forEach(function(i){E(i.id)})})}function a(){new MutationObserver(function(t){t.forEach(function(e){e.type==="childList"&&e.addedNodes.forEach(function(r){if(r.nodeType===1){r.hasAttribute(f)&&h([r]);const i=r.querySelectorAll("["+f+"]");i.length>0&&h(i),r.id&&r.classList.contains("ln-modal")&&g(r);const s=r.querySelectorAll(".ln-modal");s.length>0&&s.forEach(function(o){g(o)})}})})}).observe(document.body,{childList:!0,subtree:!0})}window[d]={toggle:v,close:E,open:function(n){const t=document.getElementById(n);t&&(t.classList.add("ln-modal--open"),document.body.classList.add("ln-modal-open"))}},a(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b()})(),(function(){const f="data-ln-nav",d="lnNav";if(window[d]!==void 0)return;const v=new WeakMap;function E(n){if(!n.hasAttribute(f)||v.has(n))return;const t=n.getAttribute(f);if(!t)return;const e=g(n,t);v.set(n,e)}function g(n,t){let e=Array.from(n.querySelectorAll("a"));b(e,t,window.location.pathname);const r=function(){e=Array.from(n.querySelectorAll("a")),b(e,t,window.location.pathname)};window.addEventListener("popstate",r);const i=history.pushState;history.pushState=function(){i.apply(history,arguments),e=Array.from(n.querySelectorAll("a")),b(e,t,window.location.pathname)};const s=new MutationObserver(function(o){o.forEach(function(l){l.type==="childList"&&(l.addedNodes.forEach(function(u){if(u.nodeType===1){if(u.tagName==="A")e.push(u),b([u],t,window.location.pathname);else if(u.querySelectorAll){const p=Array.from(u.querySelectorAll("a"));e=e.concat(p),b(p,t,window.location.pathname)}}}),l.removedNodes.forEach(function(u){if(u.nodeType===1){if(u.tagName==="A")e=e.filter(function(p){return p!==u});else if(u.querySelectorAll){const p=Array.from(u.querySelectorAll("a"));e=e.filter(function(m){return!p.includes(m)})}}}))})});return s.observe(n,{childList:!0,subtree:!0}),{navElement:n,activeClass:t,observer:s}}function h(n){try{return new URL(n,window.location.origin).pathname.replace(/\/$/,"")||"/"}catch{return n.replace(/\/$/,"")||"/"}}function b(n,t,e){const r=h(e);n.forEach(function(i){const s=i.getAttribute("href");if(!s)return;const o=h(s);i.classList.remove(t);const l=o===r,u=o!=="/"&&r.startsWith(o+"/");(l||u)&&i.classList.add(t)})}window[d]=E;function a(){document.querySelectorAll("["+f+"]").forEach(function(t){E(t)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})(),(function(){const f=new WeakMap;function d(h){if(f.has(h))return;const b=h.getAttribute("data-ln-select");let a={};if(b&&b.trim()!=="")try{a=JSON.parse(b)}catch(e){console.warn("Invalid JSON in data-ln-select attribute:",e)}const t={...{allowEmptyOption:!0,controlInput:null,create:!1,highlight:!0,closeAfterSelect:!0,placeholder:h.getAttribute("placeholder")||"Select...",loadThrottle:300},...a};try{const e=new R(h,t);f.set(h,e);const r=h.closest("form");r&&r.addEventListener("reset",()=>{setTimeout(()=>{e.clear(),e.clearOptions(),e.sync()},0)})}catch(e){console.error("Failed to initialize Tom Select:",e)}}function v(h){const b=f.get(h);b&&(b.destroy(),f.delete(h))}function E(){document.querySelectorAll("select[data-ln-select]").forEach(d)}function g(){new MutationObserver(b=>{b.forEach(a=>{a.addedNodes.forEach(n=>{n.nodeType===1&&(n.matches&&n.matches("select[data-ln-select]")&&d(n),n.querySelectorAll&&n.querySelectorAll("select[data-ln-select]").forEach(d))}),a.removedNodes.forEach(n=>{n.nodeType===1&&(n.matches&&n.matches("select[data-ln-select]")&&v(n),n.querySelectorAll&&n.querySelectorAll("select[data-ln-select]").forEach(v))})})}).observe(document.body,{childList:!0,subtree:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{E(),g()}):(E(),g()),window.lnSelect={initialize:d,destroy:v,getInstance:h=>f.get(h)}})(),(function(){const f="data-ln-tabs",d="lnTabs";if(window[d]!==void 0&&window[d]!==null)return;function v(a=document.body){E(a)}function E(a){if(a.nodeType!==1)return;let n=Array.from(a.querySelectorAll("["+f+"]"));a.hasAttribute&&a.hasAttribute(f)&&n.push(a),n.forEach(function(t){t[d]||(t[d]=new g(t))})}function g(a){return this.dom=a,h.call(this),this}function h(){this.tabs=Array.from(this.dom.querySelectorAll("[data-ln-tab]")),this.panels=Array.from(this.dom.querySelectorAll("[data-ln-panel]")),this.mapTabs={},this.mapPanels={};for(const a of this.tabs){const n=(a.getAttribute("data-ln-tab")||"").toLowerCase().trim();n&&(this.mapTabs[n]=a)}for(const a of this.panels){const n=(a.getAttribute("data-ln-panel")||"").toLowerCase().trim();n&&(this.mapPanels[n]=a)}this.defaultKey=(this.dom.getAttribute("data-ln-tabs-default")||"").toLowerCase().trim()||Object.keys(this.mapTabs)[0]||"",this.autoFocus=(this.dom.getAttribute("data-ln-tabs-focus")||"true").toLowerCase()!=="false",this.tabs.forEach(a=>{a.addEventListener("click",()=>{const n=(a.getAttribute("data-ln-tab")||"").toLowerCase().trim();n&&location.hash==="#"+n&&this.activate(n)})}),this._hashHandler=()=>{const a=(location.hash||"").replace("#","").toLowerCase();this.activate(a||this.defaultKey)},window.addEventListener("hashchange",this._hashHandler),this._hashHandler()}g.prototype.activate=function(a){var n;(!a||!(a in this.mapPanels))&&(a=this.defaultKey);for(const t in this.mapTabs){const e=this.mapTabs[t],r=t===a;e.setAttribute("data-active",r?"true":"false"),e.setAttribute("aria-selected",r?"true":"false")}for(const t in this.mapPanels){const e=this.mapPanels[t],r=t===a;e.classList.toggle("hidden",!r),e.setAttribute("aria-hidden",r?"false":"true")}if(this.autoFocus){const t=(n=this.mapPanels[a])==null?void 0:n.querySelector('input,button,select,textarea,[tabindex]:not([tabindex="-1"])');t&&setTimeout(()=>t.focus({preventScroll:!0}),0)}};function b(){new MutationObserver(function(n){n.forEach(function(t){t.addedNodes.forEach(function(e){E(e)})})}).observe(document.body,{childList:!0,subtree:!0})}b(),window[d]=v,v(document.body)})(),(function(){const f="data-ln-toast",d="lnToast",v={success:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m5 12 5 5L20 7"/></svg>',error:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>',warn:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 1.67 10.42 18.04H1.58L12 1.67z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>',info:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>'};if(window[d]!==void 0&&window[d]!==null)return;function E(s=document.body){return g(s),r}function g(s){if(!s||s.nodeType!==1)return;let o=Array.from(s.querySelectorAll("["+f+"]"));s.hasAttribute&&s.hasAttribute(f)&&o.push(s),o.forEach(l=>{l[d]||new h(l)})}function h(s){return this.dom=s,s[d]=this,this.timeoutDefault=parseInt(s.getAttribute("data-ln-toast-timeout")||"6000",10),this.max=parseInt(s.getAttribute("data-ln-toast-max")||"5",10),Array.from(s.querySelectorAll("[data-ln-toast-item]")).forEach(o=>{b(o)}),this}function b(s){const o=((s.getAttribute("data-type")||"info")+"").toLowerCase(),l=s.getAttribute("data-title"),u=(s.innerText||s.textContent||"").trim();s.className="ln-toast__item",s.removeAttribute("data-ln-toast-item");const p=document.createElement("div");p.className="ln-toast__card ln-toast__card--"+o,p.setAttribute("role",o==="error"?"alert":"status"),p.setAttribute("aria-live",o==="error"?"assertive":"polite");const m=document.createElement("div");m.className="ln-toast__side",m.innerHTML=v[o]||v.info;const y=document.createElement("div");y.className="ln-toast__content";const L=document.createElement("div");L.className="ln-toast__head";const w=document.createElement("strong");w.className="ln-toast__title",w.textContent=l||(o==="success"?"Success":o==="error"?"Error":o==="warn"?"Warning":"Information");const C=document.createElement("button");if(C.type="button",C.className="ln-toast__close",C.setAttribute("aria-label","Close"),C.innerHTML="&times;",C.addEventListener("click",()=>n(s)),L.appendChild(w),y.appendChild(L),y.appendChild(C),u){const S=document.createElement("div");S.className="ln-toast__body";const x=document.createElement("p");x.textContent=u,S.appendChild(x),y.appendChild(S)}p.appendChild(m),p.appendChild(y),s.innerHTML="",s.appendChild(p),requestAnimationFrame(()=>s.classList.add("ln-toast__item--in"))}function a(s,o){for(;s.dom.children.length>=s.max;)s.dom.removeChild(s.dom.firstElementChild);s.dom.appendChild(o),requestAnimationFrame(()=>o.classList.add("ln-toast__item--in"))}function n(s){!s||!s.parentNode||(clearTimeout(s._timer),s.classList.remove("ln-toast__item--in"),s.classList.add("ln-toast__item--out"),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},200))}function t(s={}){let o=s.container;if(typeof o=="string"&&(o=document.querySelector(o)),o instanceof HTMLElement||(o=document.querySelector("["+f+"]")||document.getElementById("ln-toast-container")),!o)return null;const l=o[d]||new h(o),u=Number.isFinite(s.timeout)?s.timeout:l.timeoutDefault,p=(s.type||"info").toLowerCase(),m=document.createElement("li");m.className="ln-toast__item";const y=document.createElement("div");y.className="ln-toast__card ln-toast__card--"+p,y.setAttribute("role",p==="error"?"alert":"status"),y.setAttribute("aria-live",p==="error"?"assertive":"polite");const L=document.createElement("div");L.className="ln-toast__side",L.innerHTML=v[p]||v.info;const w=document.createElement("div");w.className="ln-toast__content";const C=document.createElement("div");C.className="ln-toast__head";const S=document.createElement("strong");S.className="ln-toast__title",S.textContent=s.title||(p==="success"?"Success":p==="error"?"Error":p==="warn"?"Warning":"Information");const x=document.createElement("button");if(x.type="button",x.className="ln-toast__close",x.setAttribute("aria-label","Close"),x.innerHTML="&times;",x.addEventListener("click",()=>n(m)),C.appendChild(S),w.appendChild(C),w.appendChild(x),s.message||s.data&&s.data.errors){const q=document.createElement("div");if(q.className="ln-toast__body",s.message){const N=document.createElement("p");N.textContent=s.message,N.style.margin="0",q.appendChild(N)}if(s.data&&s.data.errors){const N=document.createElement("ul");Object.values(s.data.errors).flat().forEach(B=>{const c=document.createElement("li");c.textContent=B,N.appendChild(c)}),q.appendChild(N)}w.appendChild(q)}return y.appendChild(L),y.appendChild(w),m.appendChild(y),a(l,m),u>0&&(m._timer=setTimeout(()=>n(m),u)),m}function e(s){let o=s;typeof o=="string"&&(o=document.querySelector(o)),o instanceof HTMLElement||(o=document.querySelector("["+f+"]")||document.getElementById("ln-toast-container")),o&&Array.from(o.children).forEach(n)}const r=function(s){return E(s)};r.enqueue=t,r.clear=e,new MutationObserver(s=>{s.forEach(o=>o.addedNodes.forEach(l=>g(l)))}).observe(document.body,{childList:!0,subtree:!0}),window[d]=r,window.addEventListener("ln-toast:enqueue",function(s){s.detail&&r.enqueue(s.detail)}),E(document.body)})(),(function(){const f="data-ln-upload",d="lnUpload",v="data-ln-upload-dict",E="data-ln-upload-accept",g="data-ln-upload-context";if(window[d]!==void 0)return;function h(o,l){const u=o.querySelector("["+v+'="'+l+'"]');return u?u.textContent:l}function b(o){if(o===0)return"0 B";const l=1024,u=["B","KB","MB","GB"],p=Math.floor(Math.log(o)/Math.log(l));return parseFloat((o/Math.pow(l,p)).toFixed(1))+" "+u[p]}function a(o){return o.split(".").pop().toLowerCase()}function n(o){return o==="docx"&&(o="doc"),["pdf","doc","epub"].includes(o)?"ln-icon-file-"+o:"ln-icon-file"}function t(o,l){if(!l)return!0;const u="."+a(o.name);return l.split(",").map(function(m){return m.trim().toLowerCase()}).includes(u.toLowerCase())}function e(o,l,u){o.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:u}))}function r(o){if(o.hasAttribute("data-ln-upload-initialized"))return;o.setAttribute("data-ln-upload-initialized","true");const l=o.querySelector(".ln-upload__zone"),u=o.querySelector(".ln-upload__list"),p=o.querySelector('input[type="file"]'),m=o.getAttribute(E)||"",y=o.getAttribute(f)||"/files/upload",L=o.getAttribute(g)||"",w=new Map;let C=0;function S(){const c=document.querySelector('meta[name="csrf-token"]');return c?c.getAttribute("content"):""}function x(c){if(!t(c,m)){const A=h(o,"invalid-type");e(o,"ln-upload:invalid",{file:c,message:A}),window.dispatchEvent(new CustomEvent("ln-toast:enqueue",{detail:{type:"error",title:"Invalid File",message:A||"This file type is not allowed"}}));return}const _="file-"+ ++C,T=a(c.name),j=n(T),O=document.createElement("li");O.className="ln-upload__item ln-upload__item--uploading "+j,O.setAttribute("data-file-id",_);const F=document.createElement("span");F.className="ln-upload__name",F.textContent=c.name;const D=document.createElement("span");D.className="ln-upload__size",D.textContent="0%";const k=document.createElement("button");k.type="button",k.className="ln-upload__remove",k.title=h(o,"remove"),k.textContent="Ã—",k.disabled=!0;const U=document.createElement("div");U.className="ln-upload__progress";const z=document.createElement("div");z.className="ln-upload__progress-bar",U.appendChild(z),O.appendChild(F),O.appendChild(D),O.appendChild(k),O.appendChild(U),u.appendChild(O);const H=new FormData;H.append("file",c),H.append("context",L);const M=new XMLHttpRequest;M.upload.addEventListener("progress",function(A){if(A.lengthComputable){const I=Math.round(A.loaded/A.total*100);z.style.width=I+"%",D.textContent=I+"%"}}),M.addEventListener("load",function(){if(M.status>=200&&M.status<300){var A;try{A=JSON.parse(M.responseText)}catch{P("Invalid response");return}O.classList.remove("ln-upload__item--uploading"),D.textContent=b(A.size||c.size),k.disabled=!1,w.set(_,{serverId:A.id,name:A.name,size:A.size}),q(),e(o,"ln-upload:uploaded",{localId:_,serverId:A.id,name:A.name})}else{var I="Upload failed";try{var K=JSON.parse(M.responseText);I=K.message||I}catch{}P(I)}}),M.addEventListener("error",function(){P("Network error")});function P(A){O.classList.remove("ln-upload__item--uploading"),O.classList.add("ln-upload__item--error"),z.style.width="100%",D.textContent=h(o,"error"),k.disabled=!1,e(o,"ln-upload:error",{file:c,message:A}),window.dispatchEvent(new CustomEvent("ln-toast:enqueue",{detail:{type:"error",title:"Upload Error",message:A||h(o,"upload-failed")||"Failed to upload file"}}))}M.open("POST",y),M.setRequestHeader("X-CSRF-TOKEN",S()),M.setRequestHeader("Accept","application/json"),M.send(H)}function q(){o.querySelectorAll('input[name="file_ids[]"]').forEach(function(c){c.remove()}),w.forEach(function(c){const _=document.createElement("input");_.type="hidden",_.name="file_ids[]",_.value=c.serverId,o.appendChild(_)})}function N(c){const _=w.get(c),T=u.querySelector('[data-file-id="'+c+'"]');if(!_||!_.serverId){T&&T.remove(),w.delete(c),q();return}T&&T.classList.add("ln-upload__item--deleting"),fetch("/files/"+_.serverId,{method:"DELETE",headers:{"X-CSRF-TOKEN":S(),Accept:"application/json"}}).then(j=>{j.status===200?(T&&T.remove(),w.delete(c),q(),e(o,"ln-upload:removed",{localId:c,serverId:_.serverId})):(T&&T.classList.remove("ln-upload__item--deleting"),window.dispatchEvent(new CustomEvent("ln-toast:enqueue",{detail:{type:"error",title:"Error",message:h(o,"delete-error")||"Failed to delete file"}})))}).catch(j=>{console.error("Delete error:",j),T&&T.classList.remove("ln-upload__item--deleting"),window.dispatchEvent(new CustomEvent("ln-toast:enqueue",{detail:{type:"error",title:"Network Error",message:"Could not connect to server"}}))})}function B(c){Array.from(c).forEach(function(_){x(_)}),p.value=""}l.addEventListener("click",function(){p.click()}),p.addEventListener("change",function(){B(this.files)}),l.addEventListener("dragenter",function(c){c.preventDefault(),c.stopPropagation(),l.classList.add("ln-upload__zone--dragover")}),l.addEventListener("dragover",function(c){c.preventDefault(),c.stopPropagation(),l.classList.add("ln-upload__zone--dragover")}),l.addEventListener("dragleave",function(c){c.preventDefault(),c.stopPropagation(),l.classList.remove("ln-upload__zone--dragover")}),l.addEventListener("drop",function(c){c.preventDefault(),c.stopPropagation(),l.classList.remove("ln-upload__zone--dragover"),B(c.dataTransfer.files)}),u.addEventListener("click",function(c){if(c.target.classList.contains("ln-upload__remove")){const _=c.target.closest(".ln-upload__item");_&&N(_.getAttribute("data-file-id"))}}),o.lnUploadAPI={getFileIds:function(){return Array.from(w.values()).map(function(c){return c.serverId})},getFiles:function(){return Array.from(w.values())},clear:function(){w.forEach(function(c){c.serverId&&fetch("/files/"+c.serverId,{method:"DELETE",headers:{"X-CSRF-TOKEN":S(),Accept:"application/json"}})}),w.clear(),u.innerHTML="",q(),e(o,"ln-upload:cleared",{})}}}function i(){document.querySelectorAll("["+f+"]").forEach(r)}function s(){new MutationObserver(function(l){l.forEach(function(u){u.type==="childList"&&u.addedNodes.forEach(function(p){p.nodeType===1&&(p.hasAttribute(f)&&r(p),p.querySelectorAll("["+f+"]").forEach(r))})})}).observe(document.body,{childList:!0,subtree:!0})}window[d]={init:r,initAll:i},s(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})(),(function(){const f="lnExternalLinks";if(window[f]!==void 0)return;function d(n,t,e){n.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))}function v(n){return n.hostname&&n.hostname!==window.location.hostname}function E(n){n.getAttribute("data-ln-external-link")!=="processed"&&v(n)&&(n.target="_blank",n.rel="noopener noreferrer",n.setAttribute("data-ln-external-link","processed"),d(n,"ln-external-links:processed",{link:n,href:n.href}))}function g(n){n=n||document.body,n.querySelectorAll("a, area").forEach(function(e){E(e)})}function h(){document.body.addEventListener("click",function(n){const t=n.target.closest("a, area");t&&t.getAttribute("data-ln-external-link")==="processed"&&d(t,"ln-external-links:clicked",{link:t,href:t.href,text:t.textContent||t.title||""})})}function b(){new MutationObserver(function(t){t.forEach(function(e){e.type==="childList"&&e.addedNodes.forEach(function(r){if(r.nodeType===1){r.matches&&(r.matches("a")||r.matches("area"))&&E(r);const i=r.querySelectorAll&&r.querySelectorAll("a, area");i&&i.forEach(E)}})})}).observe(document.body,{childList:!0,subtree:!0})}function a(){h(),b(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){g()}):g()}window[f]={process:g},a()})(),(function(){const f="[data-ln-box]",d="lnBox";if(window[d]!==void 0)return;function v(e){E(e)}function E(e){let r=e.querySelectorAll(f)||[];e.hasAttribute("data-ln-box")&&r.push(e),r.forEach(function(i){i[d]||(i[d]=new g(i))})}function g(e){return this.dom=e,b.call(this),a.call(this),this}function h(){new MutationObserver(function(r){r.forEach(function(i){i.type==="childList"&&i.addedNodes.forEach(function(s){s.nodeType===1&&E(s)})})}).observe(document.body,{childList:!0,subtree:!0})}h();function b(){return this.buttons={},this.buttons.collapse=this.dom.querySelectorAll('[data-ln-box-action="collapse"]'),this.buttons.expand=this.dom.querySelectorAll('[data-ln-box-action="expand"]'),this}function a(){this.buttons.collapse.forEach(e=>{e.addEventListener("click",r=>{n.call(this)},!1)}),this.buttons.expand.forEach(e=>{e.addEventListener("click",r=>{t.call(this)},!1)})}function n(){this.dom.setAttribute("data-ln-box","collapsed")}function t(){this.dom.setAttribute("data-ln-box","")}window[d]=v,g.prototype.collapse=n,g.prototype.expand=t,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){window.lnBox(document.body)}):window.lnBox(document.body)})(),(function(){const f="[data-ln-progress]",d="lnProgress";if(window[d]!==void 0)return;function v(t){E(t)}function E(t){let e=t.querySelectorAll(f)||[];t.hasAttribute("data-ln-progress")&&e.push(t),e.forEach(function(r){r[d]||(r[d]=new g(r))})}function g(t){return this.dom=t,a.call(this),b.call(this),this}function h(){new MutationObserver(function(e){e.forEach(function(r){r.type==="childList"&&r.addedNodes.forEach(function(i){i.nodeType===1&&E(i)})})}).observe(document.body,{childList:!0,subtree:!0})}h();function b(){new MutationObserver(e=>{e.forEach(r=>{r.attributeName.includes("data-progress")&&(this.values=r.target.dataset,n.call(this))})}).observe(this.dom,{attributes:!0,attributeOldValue:!0})}function a(){return this.values={},this.values.progressMin=this.dom.dataset.progressMin||0,this.values.progressMax=this.dom.dataset.progressMax||100,this.values.progressValue=this.dom.dataset.progressValue||100,n.call(this),this}function n(){let t=this.values.progressMax-this.values.progressMin,r=(this.values.progressValue-this.values.progressMin)*100/t;r<0&&(r=0),this.dom.style.width=r+"%"}window[d]=v,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){window.lnProgress(document.body)}):window.lnProgress(document.body)})()})(TomSelect);
